schema: '2.0'
stages:
  extract_data:
    cmd: python src/stages/extract_data.py --config=pipelines/train/params.yaml
    deps:
    - path: data/train.txt
      hash: md5
      md5: 08615a41a77f94dc1d9566fbe5d6ae1f
      size: 2527000
    - path: src/stages/extract_data.py
      hash: md5
      md5: 4013dd703a826a4c207b05fd630658eb
      size: 2303
    params:
      pipelines/train/params.yaml:
        extract_data:
    outs:
    - path: data/train.csv
      hash: md5
      md5: 1dc2cbbd71a8ad7da5c75c9cd30f797f
      size: 1862506
    - path: data/val.csv
      hash: md5
      md5: 821071d24509fe2a68605ada1146ea40
      size: 465734
  train:
    cmd: python src/stages/train.py --config=pipelines/train/params.yaml
    deps:
    - path: data/train.csv
      hash: md5
      md5: 1dc2cbbd71a8ad7da5c75c9cd30f797f
      size: 1862506
    - path: src/stages/train.py
      hash: md5
      md5: f88dbc0f59a192c01d2b8e5ab8fc15f4
      size: 1815
    params:
      pipelines/train/params.yaml:
        train:
          depth: '4'
          iterations: '200'
          learning_rate: '0.01'
          model_path: models/model.joblib
    outs:
    - path: models/model.joblib
      hash: md5
      md5: acb09990b3edf2d0cd2fc530bd983a1a
      size: 73268
  evaluate:
    cmd: python src/stages/evaluate.py --config=pipelines/train/params.yaml --pdir=pipelines/train
    deps:
    - path: data/train.csv
      hash: md5
      md5: 1dc2cbbd71a8ad7da5c75c9cd30f797f
      size: 1862506
    - path: data/val.csv
      hash: md5
      md5: 821071d24509fe2a68605ada1146ea40
      size: 465734
    - path: models/model.joblib
      hash: md5
      md5: acb09990b3edf2d0cd2fc530bd983a1a
      size: 73268
    - path: src/stages/evaluate.py
      hash: md5
      md5: e83aaffe60a1ec5730d3c3d7d9e77b5f
      size: 4128
    params:
      pipelines/train/params.yaml:
        evaluate:
          model_performance_path: model_performance.html
          metrics_path: metrics.json
    outs:
    - path: data/reference_data.csv
      hash: md5
      md5: 814d98d3bd5d2bb41cab05723a70a731
      size: 573151
