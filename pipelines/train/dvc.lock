schema: '2.0'
stages:
  extract_data:
    cmd: python src/stages/extract_data.py --config=pipelines/train/params.yaml
    deps:
    - path: data/train.txt
      hash: md5
      md5: 08615a41a77f94dc1d9566fbe5d6ae1f
      size: 2527000
    - path: src/stages/extract_data.py
      hash: md5
      md5: 686215fd31294e78a98d4332613d9ef6
      size: 2269
    params:
      pipelines/train/params.yaml:
        extract_data:
    outs:
    - path: data/train.csv
      hash: md5
      md5: 954e5caeb216768e59aebafc8ce1e25e
      size: 1997591
    - path: data/val.csv
      hash: md5
      md5: 30ba3b6353fdcf4a85f816a40eeda5be
      size: 499541
  train:
    cmd: python src/stages/train.py --config=pipelines/train/params.yaml
    deps:
    - path: data/train.csv
      hash: md5
      md5: 954e5caeb216768e59aebafc8ce1e25e
      size: 1997591
    - path: src/stages/train.py
      hash: md5
      md5: 8b6d56095fd9ac7bec852652a5ed2afa
      size: 1798
    params:
      pipelines/train/params.yaml:
        train:
          depth: 4
          iterations: 200
          learning_rate: 0.1
          model_path: models/model.joblib
    outs:
    - path: models/model.joblib
      hash: md5
      md5: 705de949e042825bb2d172e7da45ac0e
      size: 73588
  evaluate:
    cmd: python src/stages/evaluate.py --config=pipelines/train/params.yaml --pdir=pipelines/train
    deps:
    - path: data/train.csv
      hash: md5
      md5: 954e5caeb216768e59aebafc8ce1e25e
      size: 1997591
    - path: data/val.csv
      hash: md5
      md5: 30ba3b6353fdcf4a85f816a40eeda5be
      size: 499541
    - path: models/model.joblib
      hash: md5
      md5: 705de949e042825bb2d172e7da45ac0e
      size: 73588
    - path: src/stages/evaluate.py
      hash: md5
      md5: e83aaffe60a1ec5730d3c3d7d9e77b5f
      size: 4128
    params:
      pipelines/train/params.yaml:
        evaluate:
          model_performance_path: model_performance.html
          metrics_path: metrics.json
    outs:
    - path: data/reference_data.csv
      hash: md5
      md5: 65cb059e04d20500cb7ee3842bd42689
      size: 613065
